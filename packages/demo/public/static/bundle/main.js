(()=>{"use strict";var t={element_not_found:"Foudroyante element could not be found."},e={element_not_found:"Year Indicator element could not be found.",year_invalid:"The year value provided to the Year Indicator is invalid."};function r({element:t,value:e}){let r=t.style.transform.split(" ").filter((t=>!t.startsWith("rotate")));t.style.transform=`${r} rotate(${e}deg)`.trim()}new class{constructor(s){this.id=s.id,this.settings={now:new Date},this.foudroyante=s.foudroyante&&new class{constructor(t){this.currentRotation=0,this.element=document.getElementById(t.id),this.reverse=t.reverse||!1,this.steps=t.steps,this.stepDuration=1e3/this.steps,this.stepRotation=360/this.steps,this.hasError=!1,this.errorChecking()}errorChecking(){if(this.hasError=!1,!this.element)throw this.hasError=!0,new Error(t.element_not_found);return this.hasError}init(){this.hasError||this.startInterview()}clearInterval(){clearInterval(this.interval)}rotate(){!this.element||(Math.abs(this.currentRotation)+this.stepRotation===360?this.currentRotation=0:(this.currentRotation=Math.abs(this.currentRotation)+this.stepRotation,this.currentRotation*=this.reverse?-1:1),r({element:this.element,value:this.currentRotation}))}startInterview(){this.interval=setInterval((()=>{this.rotate()}),this.stepDuration)}}(s.foudroyante),this.year=s.year&&new class{constructor(t,e){this.element=document.getElementById(t.id),this.month=e.now.getMonth(),this.offsetMonths=t.offsetMonths||!1,this.reverse=t.reverse||!1,this.year=e.now.getFullYear(),this.settings=e,this.hasError=!1,this.errorChecking()}errorChecking(){if(this.hasError=!1,!this.element)throw this.hasError=!0,new Error(e.element_not_found);if(!this.year)throw this.hasError=!0,new Error(e.year_invalid);return this.hasError}getRotationValue(t){if(!this.element)return 0;let e=Object.freeze({1:0,2:90,3:180,4:270})[t];return this.offsetMonths&&(e+=7.5*this.month),e*=this.reverse?-1:1,e}getYearInCycle(t){return t%4==0&&t%100!=0||t%400==0?4:t%4==2&&t%100!=2||t%400==2?2:t%4==3&&t%100!=3||t%400==3?3:1}init(){if(console.log(this.settings.now),this.hasError)return;let t=this.getYearInCycle(this.year),e=this.getRotationValue(t);r({element:this.element,value:e})}}(s.year,this.settings)}clearInterval(){var t;clearInterval(this.settings.interval),null==(t=this.foudroyante)||t.clearInterval()}startInterval(){this.settings.interval=setInterval((()=>{var t;this.settings.now=new Date,null==(t=this.year)||t.init()}),1e3)}start(){var t;this.startInterval(),null==(t=this.foudroyante)||t.init()}}({id:"demo-watch",foudroyante:{steps:5,id:"foudroyante-id",reverse:!0},year:{id:"year-id",offsetMonths:!0}}).start()})();