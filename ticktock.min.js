function ticktock(n,t,e){"use strict";var a,r,s,o,i=n,l=i.find(t.theSecondsHand)||null,u=i.find(t.theMinuteHand)||null,d=i.find(t.theHourHand)||null,c=i.find(t.theCrown)||null,f=i.find(t.theResetButton)||null,e=e||{singleHand:null,singleHandTarget:null,gmtOffset:null,startSecondsAtZero:null,sweep:null,crown:null},h=e.singleHand||!1,m=e.gmtOffset||null,g=e.startSecondsAtZero||!1,p=e.sweep||{all:null,seconds:null,minutes:null,hours:null,duration:null,onSet:null},v=p.all===!1?p.all:!0,T=p.onSet===!1?p.onSet:v,y=p.seconds||v,H=p.minutes||v,w=p.hours||v,S=p.duration||500,b=e.crown||{fillTarget:null,fillClasses:null,speed:null,activeClass:null},C=b.fillTarget||null,E=b.fillClasses||[],A=E.length||null,M=b.speed||20,k=b.activeClass||"active",U=6,I=h?.5:6,L=30,O=c?!1:null,j=!1,x=0,D=!1,N=function(){z.setCurrentTime(),c&&F.bind(),g&&Q.SET.minute(),l&&g&&Q.SET.seconds()},Q={SET:{seconds:function(){j||R.secondsHand(),clearInterval(a),a=setInterval(function(){R.secondsHand()},1e3)},minute:function(){j||z.setCurrentTime(),clearInterval(r),r=setInterval(function(){z.setCurrentTime()},6e4)}},clear:function(){clearInterval(a),clearInterval(r)}},_={hand:function(n,t,e,a){var a=a||S;e?D?n.stop().animate({rotate:t},a,"linear"):(n.animate({rotate:t},a,"linear",function(){g||Q.SET.seconds()}),D=!0):D?n.rotate(t):(n.rotate(t),D=!0,Q.SET.seconds())}},R={secondsHand:function(n){var n=n||null,t=n*U*100/100+"deg",e="+="+U+"deg";D?y||v?n?_.hand(l,t,!0):_.hand(l,e,!0,1e3):n?_.hand(l,t):_.hand(l,e,!0,1):g||(T?_.hand(l,t,!0):_.hand(l,t))},minuteHand:function(n,t){var n=n||0,t=t||null,e=n*I*100/100+"deg",a="+="+I+"deg";if(t){var r,s=1,o="backward"==t?"-":"+";r=o+"="+s,_.hand(u,r,!0,1)}else D?H||v?j?_.hand(u,a,!0):_.hand(u,e,!0):j?_.hand(u,a,!0,1):_.hand(u,e):T?_.hand(u,e,!0):_.hand(u,e)},hourHand:function(n,t,e){s=j?.5:L;var n=n||0,t=t||0,e=e||null,a=n*s+Math.round(.5*t*100)/100+"deg",r="+="+s+"deg";if(e){var o,i=.084,l="backward"==e?"-":"+";o=l+"="+i,_.hand(d,o,!0,1)}else D?w||v?j?_.hand(d,r,!0):_.hand(d,a,!0):j?_.hand(d,r,!0,1):_.hand(d,a):T?_.hand(d,a,!0):_.hand(d,a)}},z={getCurrentTime:function(){var n=new Date,t=n.getHours(),e=n.getMinutes(),a=n.getSeconds(),r={};if(m){var s=t-n.getTimezoneOffset()/60;t=s+m}return t=(t+11)%12+1,r={seconds:a,minutes:e,hours:t}},setCurrentTime:function(){var n=this.getCurrentTime();if(!g&&!D){clearInterval(r);var t=60-n.seconds,e=T?S:0;setTimeout(function(){z.setCurrentTime(),Q.SET.minute()},1e3*t+e)}h?(!l||g||!l||h||D?R.secondsHand():R.secondsHand(n.seconds),R.hourHand(n.hours,n.minutes)):(g||!l||h||D?R.secondsHand():R.secondsHand(n.seconds),u&&R.minuteHand(n.minutes),d&&R.hourHand(n.hours,n.minutes)),D||(D=!0)},MANUAL:{bindEventListener:function(){$(window).on("DOMMouseScroll mousewheel",function(n){return x++,z.MANUAL.update(n),x==M&&(F.rotate(),x=0),!1})},update:function(n){n.originalEvent.detail>0||n.originalEvent.wheelDelta<0?(R.minuteHand(0,"forward"),R.hourHand(0,0,"forward")):(R.minuteHand(0,"backward"),R.hourHand(0,0,"backward"))},unbindEventListener:function(){$(window).unbind("DOMMouseScroll mousewheel")}}},F={bind:function(){c.on("click",function(){F.toggleCrown()})},toggleCrown:function(){O?(f&&f.is(":hidden")&&(P.toggle(),P.bind()),c.attr("class",""),C.each(function(){o=$(this).attr("class");for(var n=0;A>n;n++)$(this).attr("class",o.replace(" "+E[n],""))}),O=!1,Q.SET.seconds(),Q.SET.minute()):(Q.clear(),c.attr("class",k),O=!0,j=!0,l.is(":animated")?l.stop():(Q.clear(),clearInterval(a))),this.toggleOtherClasses()},toggleOtherClasses:function(){i.attr("class");O?z.MANUAL.bindEventListener():z.MANUAL.unbindEventListener()},rotate:function(){E.push(E.shift()),C.each(function(n){o=$(this).attr("class");for(var t=0;A>t;t++)$(this).attr("class",o.replace(" "+E[t],""));o=$(this).attr("class"),$(this).attr("class",o+" "+E[n])})}},P={bind:function(){f.off("click").on("click",function(){P.unbind(),j=!1,z.setCurrentTime(),P.toggle()})},toggle:function(){f.toggle()},unbind:function(){f.off("click")}};return{init:N}}!function(n){function t(n){for(var t,e=["transform","WebkitTransform","msTransform","MozTransform","OTransform"];t=e.shift();)if("undefined"!=typeof n.style[t])return t;return"transform"}var e=null,a=n.fn.css;n.fn.css=function(r,s){if(null===e&&(e="undefined"!=typeof n.cssProps?n.cssProps:"undefined"!=typeof n.props?n.props:{}),"undefined"==typeof e.transform&&("transform"==r||"object"==typeof r&&"undefined"!=typeof r.transform)&&(e.transform=t(this.get(0))),"transform"!=e.transform)if("transform"==r){if(r=e.transform,"undefined"==typeof s&&jQuery.style)return jQuery.style(this.get(0),r)}else"object"==typeof r&&"undefined"!=typeof r.transform&&(r[e.transform]=r.transform,delete r.transform);return a.apply(this,arguments)}}(jQuery),function(n){function t(n){var t=n.data("_ARS_data");return t||(t={rotateUnits:"deg",scale:1,rotate:0},n.data("_ARS_data",t)),t}function e(n,t){n.css("transform","rotate("+t.rotate+t.rotateUnits+") scale("+t.scale+","+t.scale+")")}n.fn.rotate=function(a){var r,s=n(this),o=t(s);return"undefined"==typeof a?o.rotate+o.rotateUnits:(r=a.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/),r&&(r[3]&&(o.rotateUnits=r[3]),o.rotate=r[1],e(s,o)),this)},n.fn.scale=function(a){var r=n(this),s=t(r);return"undefined"==typeof a?s.scale:(s.scale=a,e(r,s),this)};var a=n.fx.prototype.cur;n.fx.prototype.cur=function(){return"rotate"==this.prop?parseFloat(n(this.elem).rotate()):"scale"==this.prop?parseFloat(n(this.elem).scale()):a.apply(this,arguments)},n.fx.step.rotate=function(e){var a=t(n(e.elem));n(e.elem).rotate(e.now+a.rotateUnits)},n.fx.step.scale=function(t){n(t.elem).scale(t.now)};var r=n.fn.animate;n.fn.animate=function(e){if("undefined"!=typeof e.rotate){var a,s,o=e.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);o&&o[5]&&(a=n(this),s=t(a),s.rotateUnits=o[5]),e.rotate=o[1]}return r.apply(this,arguments)}}(jQuery);