/******/
!function(e){function t(i){if(n[i])return n[i].exports
var s=n[i]={exports:{},id:i,loaded:!1}
return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={}
t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict"
n(1)
!function(){function e(e,t,n){var i=void 0
t.forEach(function(t){if((i=t.attributes[n].value)===e)return void t.classList.toggle("is-hidden")})}function t(){v.forEach(function(e){e.classList.contains("is-hidden")||e.classList.add("is-hidden")})}function i(){c.stopInterval(),c=null,u=null}function s(e){switch(c&&i(),e){case"dials":u={dials:[{name:"primary",hands:{hour:"dial-primary-hour-hand",minute:"dial-primary-minute-hand",second:"dial-primary-second-hand"}},{name:"secondary",hands:{hour:"dial-secondary-hour-hand",minute:"dial-secondary-minute-hand",second:"dial-secondary-second-hand"},offset:"+6",sweep:!0}]}
break
case"day-night-indicator":u={dials:[{hands:{hour:"day-night-hour-hand",minute:"day-night-minute-hand",second:"day-night-second-hand"}}],dayNightIndicator:{id:"day-night-dial"}}
break
case"moonphase":u={dials:[{hands:{hour:"moonphase-hour-hand",minute:"moonphase-minute-hand",second:"moonphase-second-hand"}}],moonphase:{id:"moonphase-dial"}}
break
case"minute-repeater":u={dials:[{hands:{hour:"repeater-hour-hand",minute:"repeater-minute-hand",second:"repeater-second-hand"}}],repeater:{id:"play-repeater",chimes:{hour:"./dist/sounds/chime-01.mp4",quarter:"./dist/sounds/chime-02.mp4",minute:"./dist/sounds/chime-03.mp4"}}}
break
case"power-reserve":u={dials:[{hands:{hour:"reserve-hour-hand",minute:"reserve-minute-hand",second:"reserve-second-hand"}}],reserve:{id:"reserve-hand",range:[-90,90]}}
break
case"manual-time":u={dials:[{name:"primary",hands:{hour:"crown-primary-hour-hand",minute:"crown-primary-minute-hand",second:"crown-primary-second-hand"}},{name:"secondary",hands:{hour:"crown-secondary-hour-hand",minute:"crown-secondary-minute-hand",second:"crown-secondary-second-hand"},offset:"+6",sweep:!0}],crown:{id:"the-crown",blackout:[{selector:"#blackout",className:"active"}]}}}c=new o(u)}function r(n){d.forEach(function(e){e.classList.contains("is-hidden")||e.classList.add("is-hidden")}),t(),e(n,d,"data-comp"),s(n)}function a(e){m.forEach(function(e){e.classList.remove("active")}),e.parentElement.classList.add("active")}var o=n(2),h={dials:[{name:"header-dial",hands:{hour:"hour-hand",minute:"minute-hand",second:"second-hand"},sweep:!0}]},u=(new o(h),null),c=null
s("dials")
var l=document.querySelectorAll(".complication-link"),d=document.querySelectorAll(".complication-container"),m=document.querySelectorAll(".secondary-nav li")
l.forEach(function(e){e.addEventListener("click",function(){event.preventDefault(),r(this.attributes["data-comp"].value),a(this)})})
var f=document.querySelectorAll(".view-code-btn"),v=document.querySelectorAll(".complication.code-block-container")
f.forEach(function(t){t.addEventListener("click",function(){event.preventDefault(),e(this.attributes["data-type"].value,v,"data-type")})})}()},function(e,t){"use strict"
e.exports={localStorage:{set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){return void 0!==localStorage[e]&&JSON.parse(localStorage[e])},clear:function(e){localStorage.removeItem(e),console.log(e+" cleared from localStorage.")}}}},function(e,t,n){"use strict"
function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3),a=n(4),o=n(5),h=n(6),u=n(7),c=n(8),l=function(){function e(t){var n=this
i(this,e)
try{if(!t.dials)throw"At least one dial is required for the Watch class."}catch(e){return void console.error(e)}this.dialInstances=[],this.globalInterval=null,this.rightNow=new Date,t.dials.forEach(function(e){var t=new r(e,n)
n.dialInstances.push(t)}),t.crown&&(this.crown=new a(t.crown,this)),t.reserve&&(this.powerReserve=new o(t.reserve,this)),t.moonphase&&(this.moonphase=new h(t.moonphase,this)),t.repeater&&(this.repeaterDial=t.repeater.dial||0,this.repeater=new u(this.dialInstances[this.repeaterDial],t.repeater,this)),t.dayNightIndicator&&(this.dayNightIndicatorDial=t.dayNightIndicator.dial||0,this.dayNightIndicator=new c(this.dialInstances[this.dayNightIndicatorDial],t.dayNightIndicator,this)),this.init()}return s(e,[{key:"getCurrentRotateValue",value:function(e){var t=e.style.transform,n=t.replace("rotate(","").replace("deg)","")
return Number(n)}},{key:"keyBindings",value:function(){var e=this
window.addEventListener("keydown",function(){switch(event.keyCode){case 37:e.powerReserve&&e.powerReserve.incrementReserve()
break
case 13:e.crown&&e.crown.toggleCrown()}if(e.crown&&e.crown.crownActive)switch(event.keyCode){case 37:e.powerReserve&&e.powerReserve.incrementReserve()
break
case 38:e.dialInstances.forEach(function(t){t.setSecondary&&t.id===e.dialInstances[e.dialInstances.length-1].id?t.rotateHands():t.setSecondary||t.rotateHands()})
break
case 39:e.crown&&e.crown.toggleBlackout(),e.dialInstances.forEach(function(e){e.toggleSecondaryTime()})
break
case 40:e.dialInstances.forEach(function(t){t.setSecondary&&t.id===e.dialInstances[e.dialInstances.length-1].id?t.rotateHands("back"):t.setSecondary||t.rotateHands("back")})}})}},{key:"startInterval",value:function(){var e=this
this.globalInterval=setInterval(function(){e.dialInstances.forEach(function(e){e.getCurrentTime(),e.rotateHands()}),e.powerReserve&&e.powerReserve.decrementReserve(),e.moonphase&&e.moonphase.getCurrentPhase()},1e3)}},{key:"stopInterval",value:function(){clearInterval(this.globalInterval),this.globalInterval=null,this.repeater&&this.repeater.stopAll()}},{key:"init",value:function(){this.startInterval(),this.keyBindings()}}]),e}()
e.exports=l},function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){n(this,e)
try{if(!t.hands)throw"The Dial class needs an object containing the HTML elements for the hands."}catch(e){return void console.error(e)}this.name=t.name,this.hands={},t.hands.hour&&(this.hands.hour=document.getElementById(t.hands.hour)),t.hands.minute&&(this.hands.minute=document.getElementById(t.hands.minute)),t.hands.second&&(this.hands.second=document.getElementById(t.hands.second)),this.parent=i,this.format=t.format?t.format:12,this.gmtOffset=t.offset?t.offset.toString():null,this.sweepingSeconds=t.sweep||!1,this.rightNow=this.parent.rightNow,this.currentTime={},this.rotateValues={hoursRotateVal:12===this.format?30:15,hoursRotateValOffset:12===this.format?.5:.25,hourJump:30,minutesRotateVal:6},this.interval=null,this.crownActive=!1,this.manualTime=!1,this.settingTime=!1,this.setSecondary=!1,this.transition={},this.init()}return i(e,[{key:"toggleActiveCrown",value:function(){this.crownActive=!this.crownActive}},{key:"toggleSecondaryTime",value:function(){this.setSecondary=!this.setSecondary}},{key:"toggleSettingTime",value:function(){this.settingTime=!this.settingTime}},{key:"updateToManualTime",value:function(){this.manualTime=!0}},{key:"startInterval",value:function(){var e=this
this.interval=setInterval(function(){e.getCurrentTime(),e.rotateHands()},1e3)}},{key:"stopInterval",value:function(){clearInterval(this.interval),this.interval=null}},{key:"applySweepingTransition",value:function(){this.hands.second.style.transition="transform 1s linear"}},{key:"getCurrentTime",value:function(){if(this.rightNow=new Date,this.gmtOffset){var e=this.rightNow.getTime()+6e4*this.rightNow.getTimezoneOffset()
this.rightNow=new Date(e+36e5*this.gmtOffset)}var t={hours:this.rightNow.getHours(),minutes:this.rightNow.getMinutes(),seconds:this.rightNow.getSeconds()}
this.currentTime=t}},{key:"checkForDayNightUpdates",value:function(){this.parent.dayNightIndicator.convertAngleToHours(this.name)}},{key:"rotateHands",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=void 0
if(this.hands.hour){var n=this.setSecondary?this.rotateValues.hourJump:this.rotateValues.hoursRotateValOffset
t=this.parent.getCurrentRotateValue(this.hands.hour),this.settingTime?e?t-=n:t+=n:this.manualTime?0===this.currentTime.seconds&&(t=this.parent.getCurrentRotateValue(this.hands.hour)+this.rotateValues.hoursRotateValOffset):t=this.currentTime.hours*this.rotateValues.hoursRotateVal+this.currentTime.minutes*this.rotateValues.hoursRotateValOffset,0===t||t>=360?(this.transition.hour=this.hands.hour.style.transition,this.hands.hour.style.transition="none"):t>0&&"none"===this.hands.hour.style.transition&&(this.hands.hour.style.transition=this.transition.hour),t>360&&(t-=360),this.hands.hour.style.transform="rotate("+t+"deg)"}this.hands.minute&&(t=this.parent.getCurrentRotateValue(this.hands.minute),this.settingTime?e?t-=this.rotateValues.minutesRotateVal:t+=this.rotateValues.minutesRotateVal:this.manualTime?0===this.currentTime.seconds&&(t+=this.rotateValues.minutesRotateVal):t=this.currentTime.minutes*this.rotateValues.minutesRotateVal,0===t?(this.transition.minute=this.hands.minute.style.transition,this.hands.minute.style.transition="none"):t>0&&"none"===this.hands.minute.style.transition&&(this.hands.minute.style.transition=this.transition.minute),this.hands.minute.style.transform="rotate("+t+"deg)"),this.hands.second&&(t=this.currentTime.seconds*this.rotateValues.minutesRotateVal,0===t?(this.transition.second=this.hands.second.style.transition,this.hands.second.style.transition="none"):t>0&&"none"===this.hands.second.style.transition&&(this.hands.second.style.transition=this.transition.second),this.hands.second.style.transform="rotate("+t+"deg)"),this.parent.dayNightIndicator&&this.checkForDayNightUpdates()}},{key:"init",value:function(){var e=this
setTimeout(function(){e.getCurrentTime(),e.rotateHands(),setTimeout(function(){e.hands.second&&e.sweepingSeconds&&e.applySweepingTransition()},100)},350)}}]),e}()
e.exports=s},function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){n(this,e)
try{if(!t.id)throw"The Crown class requires that an ID of the crown element be provided."}catch(e){return void console.error(e)}this.crown=document.getElementById(t.id),this.blackoutElements=t.blackout,this.parent=i,this.crownActive=!1,this.setSecondary=!1,this.init()}return i(e,[{key:"toggleBlackout",value:function(){this.setSecondary=!this.setSecondary,this.blackoutElements.forEach(function(e){document.querySelector(e.selector).classList.toggle(e.className)})}},{key:"toggleCrown",value:function(){this.crownActive=!this.crownActive,this.parent.dialInstances.forEach(function(e){e.toggleActiveCrown&&e.toggleActiveCrown(),e.setSecondary&&e.toggleSecondaryTime()}),this.crownActive?(this.parent.stopInterval(),this.crown.classList.add("active"),this.parent.dialInstances.forEach(function(e){e.toggleSettingTime&&e.toggleSettingTime()})):(this.parent.startInterval(),this.crown.classList.remove("active"),this.setSecondary&&this.toggleBlackout(),this.parent.dialInstances.forEach(function(e){e.toggleSettingTime&&e.toggleSettingTime(),e.updateToManualTime&&e.updateToManualTime()}))}},{key:"updateCursorForTrigger",value:function(){this.crown.style.cursor="pointer"}},{key:"init",value:function(){var e=this
this.updateCursorForTrigger(),this.crown.addEventListener("click",function(){e.toggleCrown()})}}]),e}()
e.exports=s},function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){n(this,e)
try{if(!t.id)throw"The PowerReserve class requires that an ID of the power reserve element be provided."}catch(e){return void console.error(e)}this.element=document.getElementById(t.id),this.interval=null,this.parent=i,this.minAngle=t.range[0],this.maxAngle=t.range[1],this.increment=.5,this.init()}return i(e,[{key:"decrementReserve",value:function(){var e=this.parent.getCurrentRotateValue(this.element)
if(e<=this.minAngle)this.parent.stopInterval()
else{var t=Number(e)-this.increment/2
this.element.style.transform="rotate("+t+"deg)"}}},{key:"incrementReserve",value:function(){var e=this.parent.getCurrentRotateValue(this.element)
if(e<=this.maxAngle-this.increment&&e>=this.minAngle){var t=Number(e)+this.increment
this.element.style.transform="rotate("+t+"deg)"}}},{key:"startInterval",value:function(){var e=this
this.interval=setInterval(function(){e.decrementReserve()},1e3)}},{key:"stopInterval",value:function(){clearInterval(this.interval),this.interval=null}},{key:"init",value:function(){this.element.style.transform="rotate("+this.maxAngle+"deg)"}}]),e}()
e.exports=s},function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){n(this,e)
try{if(!t.id)throw"The MoonPhase class requires that an ID of the moonphase element be provided."}catch(e){return void console.error(e)}this.parent=i,this.element=document.getElementById(t.id),this.invert=t.invert||!1,this.init()}return i(e,[{key:"rotateDisc",value:function(e){e=this.invert?-1*e:e,this.element.style.transform="rotate("+e+"deg)"}},{key:"getCurrentPhase",value:function(){var e=this.parent.rightNow,t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),s=void 0,r=void 0,a=void 0,o=void 0,h=void 0
switch(n<3&&(t--,n+=12),n++,s=365.25*t,r=30.6*n,a=s+r+i-694039.09,a/=29.5305882,o=parseInt(a),a-=o,o=Math.round(8*a),h=10*a,h=+h.toFixed(2),o>=8&&(o=0),o){case 0:this.invert?this.rotateDisc(0):this.rotateDisc(180)
break
case 1:this.rotateDisc(83)
break
case 2:this.rotateDisc(60)
break
case 3:this.rotateDisc(37)
break
case 4:this.invert?this.rotateDisc(180):this.rotateDisc(0)
break
case 5:this.rotateDisc(-37)
break
case 6:this.rotateDisc(-60)
break
case 7:this.rotateDisc(-83)
break
default:console.log("Error")}}},{key:"init",value:function(){this.getCurrentPhase()}}]),e}()
e.exports=s},function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s){n(this,e)
try{if(!i)throw"The MinuteRepeater class requires that an ID of the repeater element be provided."}catch(e){return void console.error(e)}this.hands=t.hands,this.hourAngle=0,this.hourChimes=0,this.hourElement=null,this.hourDivisor=12===t.format?30:15,this.allMinutes=0,this.minuteAngle=0,this.fifteenMinuteChimes=0,this.fifteenMinuteElement=null,this.minuteChimes=0,this.minuteElement=null,this.trigger=document.getElementById(i.id),this.chimes=i.chimes,this.counter=1,this.isPlaying=!1,this.parent=s,this.init()}return i(e,[{key:"convertAngleToIncrements",value:function(){this.hourAngle=this.parent.getCurrentRotateValue(this.hands.hour),this.hourAngle>360&&(this.hourAngle-=360),this.hourChimes=Math.floor(this.hourAngle/this.hourDivisor)||12
try{if(!this.hands.minute)throw"The minute repeater, like, by definition, requires a dial which supports a minute hand."}catch(e){return void console.error(e)}this.minuteAngle=this.parent.getCurrentRotateValue(this.hands.minute),this.minuteAngle>360&&(this.minuteAngle%=360),this.allMinutes=Math.floor(this.minuteAngle/6),this.fifteenMinuteChimes=Math.floor(this.allMinutes/15),this.minuteChimes=Math.floor(this.allMinutes-15*this.fifteenMinuteChimes)}},{key:"bindEvents",value:function(){var e=this
this.trigger.addEventListener("click",function(){e.togglePlaying()}),this.hourElement.addEventListener("ended",function(){e.playHours()}),this.fifteenMinuteElement.addEventListener("ended",function(){e.playFifteenMinutes()}),this.minuteElement.addEventListener("ended",function(){e.playMinutes()})}},{key:"stopAll",value:function(){this.hourElement.pause(),this.hourElement.currentTime=0,this.fifteenMinuteElement.pause(),this.fifteenMinuteElementcurrentTime=0,this.minuteElement.pause(),this.minuteElementcurrentTime=0,this.counter=1,this.isPlaying=!1}},{key:"togglePlaying",value:function(){this.parent.globalInterval&&(this.isPlaying=!this.isPlaying,this.isPlaying?(this.convertAngleToIncrements(),this.playHours()):this.stopAll())}},{key:"playHours",value:function(){this.counter<=this.hourChimes?(this.hourElement.play(),this.counter++):this.counter===this.hourChimes+1&&(this.counter=1,this.playFifteenMinutes())}},{key:"playFifteenMinutes",value:function(){this.counter<=this.fifteenMinuteChimes?(this.fifteenMinuteElement.play(),this.counter++):this.counter===this.fifteenMinuteChimes+1&&(this.counter=1,this.playMinutes())}},{key:"playMinutes",value:function(){this.counter<=this.minuteChimes?(this.minuteElement.play(),this.counter++):this.counter===this.minuteChimes+1&&(this.counter=1)}},{key:"buildAudioElements",value:function(){this.hourElement=document.createElement("audio"),this.hourElement.src=this.chimes.hour,document.body.appendChild(this.hourElement),this.fifteenMinuteElement=document.createElement("audio"),this.fifteenMinuteElement.src=this.chimes.quarter,document.body.appendChild(this.fifteenMinuteElement),this.minuteElement=document.createElement("audio"),this.minuteElement.src=this.chimes.minute,document.body.appendChild(this.minuteElement)}},{key:"updateCursorForTrigger",value:function(){this.trigger.style.cursor="pointer"}},{key:"init",value:function(){this.buildAudioElements(),this.bindEvents(),this.updateCursorForTrigger()}}]),e}()
e.exports=s},function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s){n(this,e)
try{if(!i.id)throw"The DayNightIndicator class requires that an ID of the indiciator element be provided."}catch(e){return void console.error(e)}this.element=document.getElementById(i.id),this.dial=t,this.hands=t.hands,this.parent=s,this.invert=i.invert||!1,this.hours=this.parent.rightNow.getHours(),this.isAM=this.hours<12,this.hourAngle=0,this.hourDivisor=12===t.format?30:15,this.init()}return i(e,[{key:"toggleAMPM",value:function(){this.isAM=!this.isAM}},{key:"removeTransitionDuration",value:function(){this.element.style.transition="none"}},{key:"rotateIndicator",value:function(){var e=0
e=this.hours>=0&&this.hours<6?this.invert?180:0:this.hours>=6&&this.hours<12?90:this.hours>=12&&this.hours<18?this.invert?0:180:270,this.invert&&(e*=-1),this.element.style.transform="rotate("+e+"deg)"}},{key:"getHourHandAngle",value:function(){this.hourAngle=this.parent.getCurrentRotateValue(this.hands.hour)}},{key:"convertAngleToHours",value:function(e){e===this.dial.name&&(this.getHourHandAngle(),360===this.hourAngle&&this.toggleAMPM(),this.hours=Math.floor(this.hourAngle/this.hourDivisor),this.hours=this.isAM?this.hours:this.hours+12,this.hours=24===this.hours?0:this.hours,this.rotateIndicator())}},{key:"init",value:function(){this.removeTransitionDuration(),this.rotateIndicator()}}]),e}()
e.exports=s}])
